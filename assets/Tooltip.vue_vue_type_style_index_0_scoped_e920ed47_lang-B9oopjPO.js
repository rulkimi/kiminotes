import{r as b,D as T,h as N,i as g,s as $,E as B,o as t,e as s,k as D,j as r,d as l,n as c,t as u,F as V,v as y,a as d,b as F,G as L}from"./index-DZ3wKJZw.js";const z={key:0,class:"bg-grid p-4 flex items-start justify-center border-t border-x dark:border-slate-700 rounded-t-lg"},E={class:"text-primary font-semibold"},P={class:"flex gap-2"},A={key:0},G={class:"xml"},H={key:1},I={class:"javascript"},J={key:2},M={class:"css"},O={key:3},q={class:"json"},K={key:1,class:"bg-background h-40 rounded-b-lg relative"},Q={class:"blur select-none pointer-events-none"},R={class:"!overflow-hidden h-40"},U={class:"absolute inset-0 flex justify-center items-center"},W=l("span",{class:"ml-2"},"Show code",-1),Y={__name:"PreviewBlock",props:{fileName:String,templateCode:String,scriptCode:String,styleCode:String,jsonCode:String,hideCode:Boolean},setup(n){const a=n,o=b(""),C=b(!a.hideCode),x=()=>a.templateCode?"template":a.scriptCode?"script":a.styleCode?"style":a.jsonCode?"json":"";T(()=>{o.value=x()});const w=N(),v=g(()=>!!w.default),j=g(()=>{let e="";switch(o.value){case"template":e=a.templateCode||"";break;case"script":e=a.scriptCode||"";break;case"style":e=a.styleCode||"";break;case"json":e=a.jsonCode||"";break;default:e="No code available"}return e.length>500?e.substring(0,500)+"...":e}),{proxy:f}=L(),k=b("Copy"),h=b(null),S=()=>{let i="";switch(o.value){case"template":i=a.templateCode||"";break;case"script":i=a.scriptCode||"";break;case"style":i=a.styleCode||"";break;case"json":i=a.jsonCode||"";break;default:i=""}i?navigator.clipboard.writeText(i).then(()=>{f.$toast.show({message:"Code copied to clipboard.",icon:["fas","check"]}),k.value="Copied",h.value&&clearTimeout(h.value),h.value=setTimeout(()=>{k.value="Copy"},3e3)}).catch(e=>{f.$toast.show({message:"Failed to copy.",icon:["fas","times"]})}):f.$toast.show({message:"No code available to copy.",icon:["fas","times"]})};return(i,e)=>{const _=$("font-awesome-icon"),m=B("highlight");return t(),s("div",null,[v.value?(t(),s("div",z,[D(i.$slots,"default")])):r("",!0),l("div",{class:c(["flex flex-col border-x border-b rounded-b-lg dark:border-slate-700",{"rounded-t-lg":!v.value}])},[l("div",{class:c(["flex w-full justify-between border-t dark:border-slate-700 p-3",{"rounded-lg":!v.value}])},[n.fileName?(t(),s("div",{key:0,class:c(["flex",{"rounded-t-lg":!v.value}])},[l("div",E,u(n.fileName),1)],2)):(t(),s("div",{key:1,class:c(["flex gap-2",{"rounded-t-lg":!v.value}])},[n.templateCode?(t(),s("button",{key:0,class:c({"text-primary font-semibold":o.value==="template"}),onClick:e[0]||(e[0]=p=>o.value="template")}," Template ",2)):r("",!0),n.scriptCode?(t(),s("button",{key:1,class:c({"text-primary font-semibold":o.value==="script"}),onClick:e[1]||(e[1]=p=>o.value="script")}," Script ",2)):r("",!0),n.styleCode?(t(),s("button",{key:2,class:c({"text-primary font-semibold":o.value==="style"}),onClick:e[2]||(e[2]=p=>o.value="style")}," Style ",2)):r("",!0),n.jsonCode?(t(),s("button",{key:3,class:c({"text-primary font-semibold":o.value==="json"}),onClick:e[3]||(e[3]=p=>o.value="json")}," JSON ",2)):r("",!0)],2)),l("div",P,[C.value?(t(),s("button",{key:0,onClick:e[4]||(e[4]=p=>C.value=!1)},"Hide Code")):r("",!0),l("button",{class:"hover:scale-105 transition-transform duration-300",onClick:S},u(k.value),1)])],2),C.value?(t(),s(V,{key:0},[o.value==="template"?(t(),s("div",A,[y((t(),s("pre",null,[d("            "),l("code",G,u(n.templateCode),1),d(`
          `)])),[[m]])])):r("",!0),o.value==="script"?(t(),s("div",H,[y((t(),s("pre",null,[d("            "),l("code",I,u(n.scriptCode),1),d(`
          `)])),[[m]])])):r("",!0),o.value==="style"?(t(),s("div",J,[y((t(),s("pre",null,[d("            "),l("code",M,u(n.styleCode),1),d(`
          `)])),[[m]])])):r("",!0),o.value==="json"?(t(),s("div",O,[y((t(),s("pre",null,[d("            "),l("code",q,u(n.jsonCode),1),d(`
          `)])),[[m]])])):r("",!0)],64)):(t(),s("div",K,[y((t(),s("pre",Q,[d("            "),l("code",R,u(j.value),1),d(`
          `)])),[[m]]),l("div",U,[l("div",{class:"hover:scale-105 cursor-pointer transition-transform duration-300 text-white",onClick:e[5]||(e[5]=p=>C.value=!0)},[F(_,{icon:["fas","eye"],size:"lg"}),W])])]))],2)])}}};export{Y as _};
